#!/bin/bash

kill_g4sp4rz1nh0_execution(){
    for cmd in "$(command -v tor)" "$(command -v privoxy)" \
        "$(command -v proxychains)" "$(command -v haproxy)" \
        "${TOR_TEMP_FILES}/force_new_circuit.sh" \
        "${g4sp4rz1nh0_TEMP_FILES}/functions/change_country_on_the_fly.sh" ; do
    
        for pid in $(pgrep -f "${cmd}"); do
            kill -9 "${pid}" > /dev/null 2>&1
        done
    done
    rm -rf "${g4sp4rz1nh0_TEMP_FILES}" > /dev/null 2>&1
}

loadbalancing_choice(){
    # Define the load-balance algoritm 
    if test "${COUNTRY_LIST_CONTROLS}" != "speed" ; then
	    LOAD_BALANCE_ALGORITHM="roundrobin"
	    HAPROXY_HTTP_REUSE="never"
    else 
	    LOAD_BALANCE_ALGORITHM="leastconn"
	    HAPROXY_HTTP_REUSE="safe"
    fi
}
